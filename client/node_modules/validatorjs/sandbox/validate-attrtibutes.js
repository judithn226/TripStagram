const Validator = require("validatorjs")

// data whicn includes attribute not in rule
let data = {
    test: "",
    name: "mike",
}

let rules = {
    test: "required",
}

let validation = new Validator(data, rules)

// post process after initial validation executed
for (const [key, value] of Object.entries(data)) {
    if (!Object.keys(rules).includes(key)) {
        validation.errorCount++
        validation.errors.errors = { ...validation.errors.errors, ...{ [key]: [`The ${key} field is not allowed.`] } }
    }
}

let pass = validation.passes() // true
if (!pass) {
    console.log("\nValidation Errors:")
    console.log(validation.errors.errors)
} else {
    console.log("Validation Passes")
}
