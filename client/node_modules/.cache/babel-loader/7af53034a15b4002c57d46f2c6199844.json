{"ast":null,"code":"var Attributes = require('./attributes');\n\nvar Messages = function (lang, messages) {\n  this.lang = lang;\n  this.messages = messages;\n  this.customMessages = {};\n  this.attributeNames = {};\n};\n\nMessages.prototype = {\n  constructor: Messages,\n\n  /**\n   * Set custom messages\n   *\n   * @param {object} customMessages\n   * @return {void}\n   */\n  _setCustom: function (customMessages) {\n    this.customMessages = customMessages || {};\n  },\n\n  /**\n   * Set custom attribute names.\n   *\n   * @param {object} attributes\n   */\n  _setAttributeNames: function (attributes) {\n    this.attributeNames = attributes;\n  },\n\n  /**\n   * Set the attribute formatter.\n   *\n   * @param {fuction} func\n   * @return {void}\n   */\n  _setAttributeFormatter: function (func) {\n    this.attributeFormatter = func;\n  },\n\n  /**\n   * Get attribute name to display.\n   *\n   * @param  {string} attribute\n   * @return {string}\n   */\n  _getAttributeName: function (attribute) {\n    var name = attribute;\n\n    if (this.attributeNames.hasOwnProperty(attribute)) {\n      return this.attributeNames[attribute];\n    } else if (this.messages.attributes.hasOwnProperty(attribute)) {\n      name = this.messages.attributes[attribute];\n    }\n\n    if (this.attributeFormatter) {\n      name = this.attributeFormatter(name);\n    }\n\n    return name;\n  },\n\n  /**\n   * Get all messages\n   *\n   * @return {object}\n   */\n  all: function () {\n    return this.messages;\n  },\n\n  /**\n   * Render message\n   *\n   * @param  {Rule} rule\n   * @return {string}\n   */\n  render: function (rule) {\n    if (rule.customMessage) {\n      return rule.customMessage;\n    }\n\n    var template = this._getTemplate(rule);\n\n    var message;\n\n    if (Attributes.replacements[rule.name]) {\n      message = Attributes.replacements[rule.name].apply(this, [template, rule]);\n    } else {\n      message = this._replacePlaceholders(rule, template, {});\n    }\n\n    return message;\n  },\n\n  /**\n   * Get the template to use for given rule\n   *\n   * @param  {Rule} rule\n   * @return {string}\n   */\n  _getTemplate: function (rule) {\n    var messages = this.messages;\n    var template = messages.def;\n    var customMessages = this.customMessages;\n    var formats = [rule.name + '.' + rule.attribute, rule.name];\n\n    for (var i = 0, format; i < formats.length; i++) {\n      format = formats[i];\n\n      if (customMessages.hasOwnProperty(format)) {\n        template = customMessages[format];\n        break;\n      } else if (messages.hasOwnProperty(format)) {\n        template = messages[format];\n        break;\n      }\n    }\n\n    if (typeof template === 'object') {\n      template = template[rule._getValueType()];\n    }\n\n    return template;\n  },\n\n  /**\n   * Replace placeholders in the template using the data object\n   *\n   * @param  {Rule} rule\n   * @param  {string} template\n   * @param  {object} data\n   * @return {string}\n   */\n  _replacePlaceholders: function (rule, template, data) {\n    var message, attribute;\n    data.attribute = this._getAttributeName(rule.attribute);\n    data[rule.name] = data[rule.name] || rule.getParameters().join(',');\n\n    if (typeof template === 'string' && typeof data === 'object') {\n      message = template;\n\n      for (attribute in data) {\n        message = message.replace(new RegExp(':' + attribute, 'g'), data[attribute]);\n      }\n    }\n\n    return message;\n  }\n};\nmodule.exports = Messages;","map":{"version":3,"sources":["/Users/judithnwagwu/Documents/TripStagram/client/node_modules/validatorjs/src/messages.js"],"names":["Attributes","require","Messages","lang","messages","customMessages","attributeNames","prototype","constructor","_setCustom","_setAttributeNames","attributes","_setAttributeFormatter","func","attributeFormatter","_getAttributeName","attribute","name","hasOwnProperty","all","render","rule","customMessage","template","_getTemplate","message","replacements","apply","_replacePlaceholders","def","formats","i","format","length","_getValueType","data","getParameters","join","replace","RegExp","module","exports"],"mappings":"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","sourcesContent":["var Attributes = require('./attributes');\n\nvar Messages = function(lang, messages) {\n  this.lang = lang;\n  this.messages = messages;\n  this.customMessages = {};\n  this.attributeNames = {};\n};\n\nMessages.prototype = {\n  constructor: Messages,\n\n  /**\n   * Set custom messages\n   *\n   * @param {object} customMessages\n   * @return {void}\n   */\n  _setCustom: function(customMessages) {\n    this.customMessages = customMessages || {};\n  },\n\n  /**\n   * Set custom attribute names.\n   *\n   * @param {object} attributes\n   */\n  _setAttributeNames: function(attributes) {\n    this.attributeNames = attributes;\n  },\n\n  /**\n   * Set the attribute formatter.\n   *\n   * @param {fuction} func\n   * @return {void}\n   */\n  _setAttributeFormatter: function(func) {\n    this.attributeFormatter = func;\n  },\n\n  /**\n   * Get attribute name to display.\n   *\n   * @param  {string} attribute\n   * @return {string}\n   */\n  _getAttributeName: function(attribute) {\n    var name = attribute;\n    if (this.attributeNames.hasOwnProperty(attribute)) {\n      return this.attributeNames[attribute];\n    } else if (this.messages.attributes.hasOwnProperty(attribute)) {\n      name = this.messages.attributes[attribute];\n    }\n\n    if (this.attributeFormatter) {\n      name = this.attributeFormatter(name);\n    }\n\n    return name;\n  },\n\n  /**\n   * Get all messages\n   *\n   * @return {object}\n   */\n  all: function() {\n    return this.messages;\n  },\n\n  /**\n   * Render message\n   *\n   * @param  {Rule} rule\n   * @return {string}\n   */\n  render: function(rule) {\n    if (rule.customMessage) {\n      return rule.customMessage;\n    }\n    var template = this._getTemplate(rule);\n\n    var message;\n    if (Attributes.replacements[rule.name]) {\n      message = Attributes.replacements[rule.name].apply(this, [template, rule]);\n    } else {\n      message = this._replacePlaceholders(rule, template, {});\n    }\n\n    return message;\n  },\n\n  /**\n   * Get the template to use for given rule\n   *\n   * @param  {Rule} rule\n   * @return {string}\n   */\n  _getTemplate: function(rule) {\n\n    var messages = this.messages;\n    var template = messages.def;\n    var customMessages = this.customMessages;\n    var formats = [rule.name + '.' + rule.attribute, rule.name];\n\n    for (var i = 0, format; i < formats.length; i++) {\n      format = formats[i];\n      if (customMessages.hasOwnProperty(format)) {\n        template = customMessages[format];\n        break;\n      } else if (messages.hasOwnProperty(format)) {\n        template = messages[format];\n        break;\n      }\n    }\n\n    if (typeof template === 'object') {\n      template = template[rule._getValueType()];\n    }\n\n    return template;\n  },\n\n  /**\n   * Replace placeholders in the template using the data object\n   *\n   * @param  {Rule} rule\n   * @param  {string} template\n   * @param  {object} data\n   * @return {string}\n   */\n  _replacePlaceholders: function(rule, template, data) {\n    var message, attribute;\n\n    data.attribute = this._getAttributeName(rule.attribute);\n    data[rule.name] = data[rule.name] || rule.getParameters().join(',');\n\n    if (typeof template === 'string' && typeof data === 'object') {\n      message = template;\n\n      for (attribute in data) {\n        message = message.replace(new RegExp(':' + attribute, 'g'), data[attribute]);\n      }\n    }\n\n    return message;\n  }\n\n};\n\nmodule.exports = Messages;\n"]},"metadata":{},"sourceType":"script"}