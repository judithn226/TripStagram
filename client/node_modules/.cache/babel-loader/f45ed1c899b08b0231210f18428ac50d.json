{"ast":null,"code":"'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _defineProperty = require('babel-runtime/helpers/define-property')['default'];\n\nvar _toConsumableArray = require('babel-runtime/helpers/to-consumable-array')['default'];\n\nvar _Object$keys = require('babel-runtime/core-js/object/keys')['default'];\n\nvar _Object$assign2 = require('babel-runtime/core-js/object/assign')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _InputContainer2 = require('./InputContainer');\n\nvar _InputContainer3 = _interopRequireDefault(_InputContainer2);\n\nvar _ValidatedInput = require('./ValidatedInput');\n\nvar _ValidatedInput2 = _interopRequireDefault(_ValidatedInput);\n\nvar _RadioGroup = require('./RadioGroup');\n\nvar _RadioGroup2 = _interopRequireDefault(_RadioGroup);\n\nvar _Validator = require('./Validator');\n\nvar _Validator2 = _interopRequireDefault(_Validator);\n\nvar _FileValidator = require('./FileValidator');\n\nvar _FileValidator2 = _interopRequireDefault(_FileValidator);\n\nfunction getInputErrorMessage(input, ruleName) {\n  var errorHelp = input.props.errorHelp;\n\n  if (typeof errorHelp === 'object') {\n    return errorHelp[ruleName];\n  } else {\n    return errorHelp;\n  }\n}\n\nvar Form = function (_InputContainer) {\n  _inherits(Form, _InputContainer);\n\n  function Form(props) {\n    _classCallCheck(this, Form);\n\n    _get(Object.getPrototypeOf(Form.prototype), 'constructor', this).call(this, props);\n\n    this.state = {\n      isValid: true,\n      invalidInputs: {}\n    };\n  }\n\n  _createClass(Form, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      _get(Object.getPrototypeOf(Form.prototype), 'componentWillMount', this).call(this);\n\n      this._validators = {};\n    }\n  }, {\n    key: 'registerInput',\n    value: function registerInput(input) {\n      _get(Object.getPrototypeOf(Form.prototype), 'registerInput', this).call(this, input);\n\n      if (typeof input.props.validate === 'string') {\n        this._validators[input.props.name] = this._compileValidationRules(input, input.props.validate);\n      }\n    }\n  }, {\n    key: 'unregisterInput',\n    value: function unregisterInput(input) {\n      _get(Object.getPrototypeOf(Form.prototype), 'unregisterInput', this).call(this, input);\n\n      delete this._validators[input.props.name];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2['default'].createElement('form', {\n        ref: \"form\",\n        onSubmit: this._handleSubmit.bind(this),\n        action: \"#\",\n        className: this.props.className\n      }, this._renderChildren(this.props.children));\n    }\n  }, {\n    key: 'getValues',\n    value: function getValues() {\n      var _this = this;\n\n      return _Object$keys(this._inputs).reduce(function (values, name) {\n        values[name] = _this._getValue(name);\n        return values;\n      }, {});\n    }\n  }, {\n    key: 'submit',\n    value: function submit() {\n      this._handleSubmit();\n    }\n  }, {\n    key: '_renderChildren',\n    value: function _renderChildren(children) {\n      var _this2 = this;\n\n      if (typeof children !== 'object' || children === null) {\n        return children;\n      }\n\n      var childrenCount = _react2['default'].Children.count(children);\n\n      if (childrenCount > 1) {\n        return _react2['default'].Children.map(children, function (child) {\n          return _this2._renderChild(child);\n        });\n      } else if (childrenCount === 1) {\n        return this._renderChild(Array.isArray(children) ? children[0] : children);\n      }\n    }\n  }, {\n    key: '_renderChild',\n    value: function _renderChild(child) {\n      var _this3 = this;\n\n      if (typeof child !== 'object' || child === null) {\n        return child;\n      }\n\n      var model = this.props.model || {};\n\n      if (child.type === _ValidatedInput2['default'] || child.type === _RadioGroup2['default'] || child.type && child.type.prototype !== null && (child.type.prototype instanceof _ValidatedInput2['default'] || child.type.prototype instanceof _RadioGroup2['default'])) {\n        var _ret = function () {\n          var name = child.props && child.props.name;\n\n          if (!name) {\n            throw new Error('Can not add input without \"name\" attribute');\n          }\n\n          var newProps = {\n            _registerInput: _this3.registerInput.bind(_this3),\n            _unregisterInput: _this3.unregisterInput.bind(_this3)\n          };\n          var evtName = child.props.validationEvent ? child.props.validationEvent : _this3.props.validationEvent;\n          var origCallback = child.props[evtName];\n\n          newProps[evtName] = function (e) {\n            _this3._validateInput(name);\n\n            return origCallback && origCallback(e);\n          };\n\n          if (name in model) {\n            if (child.props.type === 'checkbox') {\n              newProps.defaultChecked = model[name];\n            } else {\n              newProps.defaultValue = model[name];\n            }\n          }\n\n          var error = _this3._hasError(name);\n\n          if (error) {\n            newProps.bsStyle = 'error';\n\n            if (typeof error === 'string') {\n              newProps.help = error;\n            } else if (child.props.errorHelp) {\n              newProps.help = child.props.errorHelp;\n            }\n          }\n\n          return {\n            v: _react2['default'].cloneElement(child, newProps)\n          };\n        }();\n\n        if (typeof _ret === 'object') return _ret.v;\n      } else {\n        return _react2['default'].cloneElement(child, {}, this._renderChildren(child.props && child.props.children));\n      }\n    }\n  }, {\n    key: '_validateInput',\n    value: function _validateInput(name) {\n      this._validateOne(name, this.getValues());\n    }\n  }, {\n    key: '_hasError',\n    value: function _hasError(iptName) {\n      return this.state.invalidInputs[iptName];\n    }\n  }, {\n    key: '_setError',\n    value: function _setError(iptName, isError, errText) {\n      if (isError && errText && typeof errText !== 'string' && typeof errText !== 'boolean') {\n        errText = errText + '';\n      } // set value to either bool or error description string\n\n\n      this.setState({\n        invalidInputs: _Object$assign2(this.state.invalidInputs, _defineProperty({}, iptName, isError ? errText || true : false))\n      });\n    }\n  }, {\n    key: '_validateOne',\n    value: function _validateOne(iptName, context) {\n      var input = this._inputs[iptName];\n\n      if (Array.isArray(input)) {\n        console.warn('Multiple inputs use the same name \"' + iptName + '\"');\n        return false;\n      }\n\n      var value = context[iptName];\n      var isValid = true;\n      var validate = input.props.validate;\n      var result = undefined,\n          error = undefined;\n\n      if (typeof this.props.validateOne === 'function') {\n        result = this.props.validateOne(iptName, value, context);\n      } else if (typeof validate === 'function') {\n        result = validate(value, context);\n      } else if (typeof validate === 'string') {\n        result = this._validators[iptName](value);\n      } else {\n        result = true;\n      } // if result is !== true, it is considered an error\n      // it can be either bool or string error\n\n\n      if (result !== true) {\n        isValid = false;\n\n        if (typeof result === 'string') {\n          error = result;\n        }\n      }\n\n      this._setError(iptName, !isValid, error);\n\n      return isValid;\n    }\n  }, {\n    key: '_validateAll',\n    value: function _validateAll(context) {\n      var _this4 = this;\n\n      var isValid = true;\n      var errors = [];\n\n      if (typeof this.props.validateAll === 'function') {\n        (function () {\n          var result = _this4.props.validateAll(context);\n\n          if (result !== true) {\n            isValid = false;\n\n            _Object$keys(result).forEach(function (iptName) {\n              errors.push(iptName);\n\n              _this4._setError(iptName, true, result[iptName]);\n            });\n          }\n        })();\n      } else {\n        _Object$keys(this._inputs).forEach(function (iptName) {\n          if (!_this4._validateOne(iptName, context)) {\n            isValid = false;\n            errors.push(iptName);\n          }\n        });\n      }\n\n      return {\n        isValid: isValid,\n        errors: errors\n      };\n    }\n  }, {\n    key: '_compileValidationRules',\n    value: function _compileValidationRules(input, ruleProp) {\n      var _this5 = this;\n\n      var rules = ruleProp.split(',').map(function (rule) {\n        var params = rule.split(':');\n        var name = params.shift();\n        var inverse = name[0] === '!';\n\n        if (inverse) {\n          name = name.substr(1);\n        }\n\n        return {\n          name: name,\n          inverse: inverse,\n          params: params\n        };\n      });\n      var validator = (input.props && input.props.type) === 'file' ? _FileValidator2['default'] : _Validator2['default'];\n      return function (val) {\n        var result = true;\n        rules.forEach(function (rule) {\n          if (typeof validator[rule.name] !== 'function') {\n            throw new Error('Invalid input validation rule \"' + rule.name + '\"');\n          }\n\n          var ruleResult = validator[rule.name].apply(validator, [val].concat(_toConsumableArray(rule.params)));\n\n          if (rule.inverse) {\n            ruleResult = !ruleResult;\n          }\n\n          if (result === true && ruleResult !== true) {\n            result = getInputErrorMessage(input, rule.name) || getInputErrorMessage(_this5, rule.name) || false;\n          }\n        });\n        return result;\n      };\n    }\n  }, {\n    key: '_getValue',\n    value: function _getValue(iptName) {\n      var input = this._inputs[iptName];\n\n      if (Array.isArray(input)) {\n        console.warn('Multiple inputs use the same name \"' + iptName + '\"');\n        return false;\n      }\n\n      var value = undefined;\n\n      if (input.props.type === 'checkbox') {\n        value = input.getChecked();\n      } else if (input.props.type === 'file') {\n        value = input.getInputDOMNode().files;\n      } else {\n        value = input.getValue();\n      }\n\n      return value;\n    }\n  }, {\n    key: '_handleSubmit',\n    value: function _handleSubmit(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      var values = this.getValues();\n\n      var _validateAll2 = this._validateAll(values);\n\n      var isValid = _validateAll2.isValid;\n      var errors = _validateAll2.errors;\n\n      if (isValid) {\n        this.props.onValidSubmit(values);\n      } else {\n        this.props.onInvalidSubmit(errors, values);\n      }\n    }\n  }]);\n\n  return Form;\n}(_InputContainer3['default']);\n\nexports['default'] = Form;\nForm.propTypes = {\n  className: _react2['default'].PropTypes.string,\n  model: _react2['default'].PropTypes.object,\n  onValidSubmit: _react2['default'].PropTypes.func.isRequired,\n  onInvalidSubmit: _react2['default'].PropTypes.func,\n  validateOne: _react2['default'].PropTypes.func,\n  validateAll: _react2['default'].PropTypes.func,\n  validationEvent: _react2['default'].PropTypes.oneOf(['onChange', 'onBlur', 'onFocus']),\n  errorHelp: _react2['default'].PropTypes.oneOfType([_react2['default'].PropTypes.string, _react2['default'].PropTypes.object])\n};\nForm.defaultProps = {\n  model: {},\n  validationEvent: 'onChange',\n  onInvalidSubmit: function onInvalidSubmit() {}\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/victoriablackburn/TripStagram/client/node_modules/react-bootstrap-validation/lib/Form.js"],"names":["_get","require","_inherits","_createClass","_classCallCheck","_defineProperty","_toConsumableArray","_Object$keys","_Object$assign2","_interopRequireDefault","Object","defineProperty","exports","value","_react","_react2","_InputContainer2","_InputContainer3","_ValidatedInput","_ValidatedInput2","_RadioGroup","_RadioGroup2","_Validator","_Validator2","_FileValidator","_FileValidator2","getInputErrorMessage","input","ruleName","errorHelp","props","Form","_InputContainer","getPrototypeOf","prototype","call","state","isValid","invalidInputs","key","componentWillMount","_validators","registerInput","validate","name","_compileValidationRules","unregisterInput","render","createElement","ref","onSubmit","_handleSubmit","bind","action","className","_renderChildren","children","getValues","_this","_inputs","reduce","values","_getValue","submit","_this2","childrenCount","Children","count","map","child","_renderChild","Array","isArray","_this3","model","type","_ret","Error","newProps","_registerInput","_unregisterInput","evtName","validationEvent","origCallback","e","_validateInput","defaultChecked","defaultValue","error","_hasError","bsStyle","help","v","cloneElement","_validateOne","iptName","_setError","isError","errText","setState","context","console","warn","result","undefined","validateOne","_validateAll","_this4","errors","validateAll","forEach","push","ruleProp","_this5","rules","split","rule","params","shift","inverse","substr","validator","val","ruleResult","apply","concat","getChecked","getInputDOMNode","files","getValue","preventDefault","_validateAll2","onValidSubmit","onInvalidSubmit","propTypes","PropTypes","string","object","func","isRequired","oneOf","oneOfType","defaultProps","module"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _get = require('babel-runtime/helpers/get')['default'];\n\nvar _inherits = require('babel-runtime/helpers/inherits')['default'];\n\nvar _createClass = require('babel-runtime/helpers/create-class')['default'];\n\nvar _classCallCheck = require('babel-runtime/helpers/class-call-check')['default'];\n\nvar _defineProperty = require('babel-runtime/helpers/define-property')['default'];\n\nvar _toConsumableArray = require('babel-runtime/helpers/to-consumable-array')['default'];\n\nvar _Object$keys = require('babel-runtime/core-js/object/keys')['default'];\n\nvar _Object$assign2 = require('babel-runtime/core-js/object/assign')['default'];\n\nvar _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _InputContainer2 = require('./InputContainer');\n\nvar _InputContainer3 = _interopRequireDefault(_InputContainer2);\n\nvar _ValidatedInput = require('./ValidatedInput');\n\nvar _ValidatedInput2 = _interopRequireDefault(_ValidatedInput);\n\nvar _RadioGroup = require('./RadioGroup');\n\nvar _RadioGroup2 = _interopRequireDefault(_RadioGroup);\n\nvar _Validator = require('./Validator');\n\nvar _Validator2 = _interopRequireDefault(_Validator);\n\nvar _FileValidator = require('./FileValidator');\n\nvar _FileValidator2 = _interopRequireDefault(_FileValidator);\n\nfunction getInputErrorMessage(input, ruleName) {\n    var errorHelp = input.props.errorHelp;\n\n    if (typeof errorHelp === 'object') {\n        return errorHelp[ruleName];\n    } else {\n        return errorHelp;\n    }\n}\n\nvar Form = (function (_InputContainer) {\n    _inherits(Form, _InputContainer);\n\n    function Form(props) {\n        _classCallCheck(this, Form);\n\n        _get(Object.getPrototypeOf(Form.prototype), 'constructor', this).call(this, props);\n\n        this.state = {\n            isValid: true,\n            invalidInputs: {}\n        };\n    }\n\n    _createClass(Form, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            _get(Object.getPrototypeOf(Form.prototype), 'componentWillMount', this).call(this);\n\n            this._validators = {};\n        }\n    }, {\n        key: 'registerInput',\n        value: function registerInput(input) {\n            _get(Object.getPrototypeOf(Form.prototype), 'registerInput', this).call(this, input);\n\n            if (typeof input.props.validate === 'string') {\n                this._validators[input.props.name] = this._compileValidationRules(input, input.props.validate);\n            }\n        }\n    }, {\n        key: 'unregisterInput',\n        value: function unregisterInput(input) {\n            _get(Object.getPrototypeOf(Form.prototype), 'unregisterInput', this).call(this, input);\n\n            delete this._validators[input.props.name];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return _react2['default'].createElement(\n                'form',\n                { ref: \"form\",\n                    onSubmit: this._handleSubmit.bind(this),\n                    action: \"#\",\n                    className: this.props.className },\n                this._renderChildren(this.props.children)\n            );\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            var _this = this;\n\n            return _Object$keys(this._inputs).reduce(function (values, name) {\n                values[name] = _this._getValue(name);\n\n                return values;\n            }, {});\n        }\n    }, {\n        key: 'submit',\n        value: function submit() {\n            this._handleSubmit();\n        }\n    }, {\n        key: '_renderChildren',\n        value: function _renderChildren(children) {\n            var _this2 = this;\n\n            if (typeof children !== 'object' || children === null) {\n                return children;\n            }\n\n            var childrenCount = _react2['default'].Children.count(children);\n\n            if (childrenCount > 1) {\n                return _react2['default'].Children.map(children, function (child) {\n                    return _this2._renderChild(child);\n                });\n            } else if (childrenCount === 1) {\n                return this._renderChild(Array.isArray(children) ? children[0] : children);\n            }\n        }\n    }, {\n        key: '_renderChild',\n        value: function _renderChild(child) {\n            var _this3 = this;\n\n            if (typeof child !== 'object' || child === null) {\n                return child;\n            }\n\n            var model = this.props.model || {};\n\n            if (child.type === _ValidatedInput2['default'] || child.type === _RadioGroup2['default'] || child.type && child.type.prototype !== null && (child.type.prototype instanceof _ValidatedInput2['default'] || child.type.prototype instanceof _RadioGroup2['default'])) {\n                var _ret = (function () {\n                    var name = child.props && child.props.name;\n\n                    if (!name) {\n                        throw new Error('Can not add input without \"name\" attribute');\n                    }\n\n                    var newProps = {\n                        _registerInput: _this3.registerInput.bind(_this3),\n                        _unregisterInput: _this3.unregisterInput.bind(_this3)\n                    };\n\n                    var evtName = child.props.validationEvent ? child.props.validationEvent : _this3.props.validationEvent;\n\n                    var origCallback = child.props[evtName];\n\n                    newProps[evtName] = function (e) {\n                        _this3._validateInput(name);\n\n                        return origCallback && origCallback(e);\n                    };\n\n                    if (name in model) {\n                        if (child.props.type === 'checkbox') {\n                            newProps.defaultChecked = model[name];\n                        } else {\n                            newProps.defaultValue = model[name];\n                        }\n                    }\n\n                    var error = _this3._hasError(name);\n\n                    if (error) {\n                        newProps.bsStyle = 'error';\n\n                        if (typeof error === 'string') {\n                            newProps.help = error;\n                        } else if (child.props.errorHelp) {\n                            newProps.help = child.props.errorHelp;\n                        }\n                    }\n\n                    return {\n                        v: _react2['default'].cloneElement(child, newProps)\n                    };\n                })();\n\n                if (typeof _ret === 'object') return _ret.v;\n            } else {\n                return _react2['default'].cloneElement(child, {}, this._renderChildren(child.props && child.props.children));\n            }\n        }\n    }, {\n        key: '_validateInput',\n        value: function _validateInput(name) {\n            this._validateOne(name, this.getValues());\n        }\n    }, {\n        key: '_hasError',\n        value: function _hasError(iptName) {\n            return this.state.invalidInputs[iptName];\n        }\n    }, {\n        key: '_setError',\n        value: function _setError(iptName, isError, errText) {\n            if (isError && errText && typeof errText !== 'string' && typeof errText !== 'boolean') {\n                errText = errText + '';\n            }\n\n            // set value to either bool or error description string\n            this.setState({\n                invalidInputs: _Object$assign2(this.state.invalidInputs, _defineProperty({}, iptName, isError ? errText || true : false))\n            });\n        }\n    }, {\n        key: '_validateOne',\n        value: function _validateOne(iptName, context) {\n            var input = this._inputs[iptName];\n\n            if (Array.isArray(input)) {\n                console.warn('Multiple inputs use the same name \"' + iptName + '\"');\n\n                return false;\n            }\n\n            var value = context[iptName];\n            var isValid = true;\n            var validate = input.props.validate;\n            var result = undefined,\n                error = undefined;\n\n            if (typeof this.props.validateOne === 'function') {\n                result = this.props.validateOne(iptName, value, context);\n            } else if (typeof validate === 'function') {\n                result = validate(value, context);\n            } else if (typeof validate === 'string') {\n                result = this._validators[iptName](value);\n            } else {\n                result = true;\n            }\n\n            // if result is !== true, it is considered an error\n            // it can be either bool or string error\n            if (result !== true) {\n                isValid = false;\n\n                if (typeof result === 'string') {\n                    error = result;\n                }\n            }\n\n            this._setError(iptName, !isValid, error);\n\n            return isValid;\n        }\n    }, {\n        key: '_validateAll',\n        value: function _validateAll(context) {\n            var _this4 = this;\n\n            var isValid = true;\n            var errors = [];\n\n            if (typeof this.props.validateAll === 'function') {\n                (function () {\n                    var result = _this4.props.validateAll(context);\n\n                    if (result !== true) {\n                        isValid = false;\n\n                        _Object$keys(result).forEach(function (iptName) {\n                            errors.push(iptName);\n\n                            _this4._setError(iptName, true, result[iptName]);\n                        });\n                    }\n                })();\n            } else {\n                _Object$keys(this._inputs).forEach(function (iptName) {\n                    if (!_this4._validateOne(iptName, context)) {\n                        isValid = false;\n                        errors.push(iptName);\n                    }\n                });\n            }\n\n            return {\n                isValid: isValid,\n                errors: errors\n            };\n        }\n    }, {\n        key: '_compileValidationRules',\n        value: function _compileValidationRules(input, ruleProp) {\n            var _this5 = this;\n\n            var rules = ruleProp.split(',').map(function (rule) {\n                var params = rule.split(':');\n                var name = params.shift();\n                var inverse = name[0] === '!';\n\n                if (inverse) {\n                    name = name.substr(1);\n                }\n\n                return { name: name, inverse: inverse, params: params };\n            });\n\n            var validator = (input.props && input.props.type) === 'file' ? _FileValidator2['default'] : _Validator2['default'];\n\n            return function (val) {\n                var result = true;\n\n                rules.forEach(function (rule) {\n                    if (typeof validator[rule.name] !== 'function') {\n                        throw new Error('Invalid input validation rule \"' + rule.name + '\"');\n                    }\n\n                    var ruleResult = validator[rule.name].apply(validator, [val].concat(_toConsumableArray(rule.params)));\n\n                    if (rule.inverse) {\n                        ruleResult = !ruleResult;\n                    }\n\n                    if (result === true && ruleResult !== true) {\n                        result = getInputErrorMessage(input, rule.name) || getInputErrorMessage(_this5, rule.name) || false;\n                    }\n                });\n\n                return result;\n            };\n        }\n    }, {\n        key: '_getValue',\n        value: function _getValue(iptName) {\n            var input = this._inputs[iptName];\n\n            if (Array.isArray(input)) {\n                console.warn('Multiple inputs use the same name \"' + iptName + '\"');\n\n                return false;\n            }\n\n            var value = undefined;\n\n            if (input.props.type === 'checkbox') {\n                value = input.getChecked();\n            } else if (input.props.type === 'file') {\n                value = input.getInputDOMNode().files;\n            } else {\n                value = input.getValue();\n            }\n\n            return value;\n        }\n    }, {\n        key: '_handleSubmit',\n        value: function _handleSubmit(e) {\n            if (e) {\n                e.preventDefault();\n            }\n\n            var values = this.getValues();\n\n            var _validateAll2 = this._validateAll(values);\n\n            var isValid = _validateAll2.isValid;\n            var errors = _validateAll2.errors;\n\n            if (isValid) {\n                this.props.onValidSubmit(values);\n            } else {\n                this.props.onInvalidSubmit(errors, values);\n            }\n        }\n    }]);\n\n    return Form;\n})(_InputContainer3['default']);\n\nexports['default'] = Form;\n\nForm.propTypes = {\n    className: _react2['default'].PropTypes.string,\n    model: _react2['default'].PropTypes.object,\n    onValidSubmit: _react2['default'].PropTypes.func.isRequired,\n    onInvalidSubmit: _react2['default'].PropTypes.func,\n    validateOne: _react2['default'].PropTypes.func,\n    validateAll: _react2['default'].PropTypes.func,\n    validationEvent: _react2['default'].PropTypes.oneOf(['onChange', 'onBlur', 'onFocus']),\n    errorHelp: _react2['default'].PropTypes.oneOfType([_react2['default'].PropTypes.string, _react2['default'].PropTypes.object])\n};\n\nForm.defaultProps = {\n    model: {},\n    validationEvent: 'onChange',\n    onInvalidSubmit: function onInvalidSubmit() {}\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}